# puppeteer-email-session

> Holds state for an authenticated puppeteer email session.

[![NPM](https://img.shields.io/npm/v/puppeteer-email-session.svg)](https://www.npmjs.com/package/puppeteer-email-session) [![Build Status](https://travis-ci.com/transitive-bullshit/puppeteer-email.svg?branch=master)](https://travis-ci.com/transitive-bullshit/puppeteer-email) [![JavaScript Style Guide](https://img.shields.io/badge/code_style-standard-brightgreen.svg)](https://standardjs.com)

## Install

```bash
npm install --save puppeteer-email-session
```

## API

<!-- Generated by documentation.js. Update this documentation by updating the source code. -->

#### Table of Contents

-   [PuppeteerEmailSession](#puppeteeremailsession)
    -   [username](#username)
    -   [email](#email)
    -   [provider](#provider)
    -   [browser](#browser)
    -   [isAuthenticated](#isauthenticated)
    -   [signout](#signout)
    -   [sendEmail](#sendemail)
    -   [getEmails](#getemails)
    -   [close](#close)

### PuppeteerEmailSession

Holds state for an authenticated puppeteer email session.

**Parameters**

-   `opts` **[object](https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Object)** Options
    -   `opts.user` **[object](https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Object)** Authenticated user
        -   `opts.user.username` **[string](https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/String)** Authenticated user's username
        -   `opts.user.email` **[string](https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/String)** Authenticated user's email
    -   `opts.browser` **[object](https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Object)** Puppeteer Browser to use
    -   `opts.provider` **PuppeteerEmailProvider** Email provider to use

#### username

Authenticated user's username.

Type: [string](https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/String)

#### email

Authenticated user's email.

Type: [string](https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/String)

#### provider

Email provider to use.

Type: PuppeteerEmailProvider

#### browser

Puppeteer Browser to use.

Type: [string](https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/String)

#### isAuthenticated

Whether or not this session is currently authenticated with the given
email provider.

Type: [boolean](https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Boolean)

#### signout

Signs out of this session.

Returns **[Promise](https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Promise)** 

#### sendEmail

Sends an email from this session.

**Parameters**

-   `email` **[object](https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Object)** TODO
-   `opts` **[object](https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Object)?** Options

Returns **[Promise](https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Promise)** 

#### getEmails

Fetches emails from the inbox of this session's account.

**Parameters**

-   `opts` **[object](https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Object)?** Options
    -   `opts.query` **[object](https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Object)?** Search query to narrow down results

Returns **[Promise](https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Promise)&lt;[Array](https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Array)&lt;[Object](https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Object)>>** 

#### close

Closes the underlying Puppeteer Browser instance, effectively ending this
session.

Returns **[Promise](https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Promise)** 

## Related

-   [puppeteer-email](https://github.com/transitive-bullshit/puppeteer-email) - Email automation driven by headless chrome.

## License

MIT Â© [Travis Fischer](https://github.com/transitive-bullshit)
